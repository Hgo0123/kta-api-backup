<template>
  <div class="panorama" @mousedown="clickIcon">
    <NavBar />
    <Pano class="panorama__view" :source="url[0]"></Pano>

    <svg
      class="dragIcon"
      id="dragIcon"
      width="32"
      height="34"
      viewBox="0 0 32 34"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M25.3346 10.3748H25.2888C24.6549 10.3771 24.0457 10.6209 23.5852 11.0562C23.2258 10.0061 22.2724 9.25384 21.1524 9.25384C20.4587 9.26289 19.7994 9.55722 19.3301 10.068C18.9061 9.17316 18.0304 8.57319 17.021 8.57319H16.9723C16.3914 8.57319 15.8259 8.74612 15.4398 9.08996V2.72762C15.4398 1.22356 14.2735 0 12.8502 0C11.4283 0 10.2666 1.22255 10.2656 2.72561L10.2545 15.3085L9.49117 14.3806C8.87688 13.6157 7.97228 13.1407 6.99403 13.0688C6.0354 13.0032 5.09234 13.337 4.38832 13.991L3.77327 14.5012C3.58652 14.656 3.53324 14.9202 3.64509 15.1351L9.62639 26.6186C10.7145 28.7091 12.7843 30 15.0281 30H21.7368C25.1388 30 27.9094 27.0595 27.9129 23.4353C27.9144 21.8162 27.9162 20.6117 27.9172 19.6307C27.9207 16.9893 27.9219 16.0018 27.9151 13.0942C27.9116 11.5941 26.7542 10.3748 25.3346 10.3748ZM26.8876 19.6332C26.8866 20.6142 26.8849 21.8152 26.8834 23.4343C26.8804 26.4912 24.5717 28.9705 21.7368 28.9705H15.0281C13.1694 28.9705 11.4494 27.892 10.5393 26.1436L4.74976 15.0248L5.05489 14.7739C5.06143 14.7684 5.06821 14.7636 5.0745 14.7576C5.57141 14.2901 6.2405 14.05 6.9214 14.0955C7.61687 14.1488 8.25932 14.4889 8.6944 15.0343L10.3681 17.072C10.5061 17.2399 10.7346 17.303 10.9392 17.2298C11.1438 17.1567 11.2805 16.9629 11.2808 16.7455L11.2906 2.72661C11.2911 1.7911 11.9956 1.02977 12.8507 1.02977C13.7055 1.02977 14.4103 1.79135 14.4103 2.72762V11.1814C14.4103 11.2106 14.409 11.2397 14.409 11.2691C14.409 11.282 14.4103 11.294 14.4103 11.3063V14.9215C14.4103 15.2057 14.6408 15.4362 14.925 15.4362C15.2093 15.4362 15.4398 15.2057 15.4398 14.9215V11.1988C15.4398 10.2954 16.1388 9.60271 16.9723 9.60271H17.021C17.8761 9.60271 18.5927 10.3334 18.5927 11.2699V14.5766C18.5927 14.8609 18.8232 15.0914 19.1075 15.0914C19.3917 15.0914 19.6222 14.8609 19.6222 14.5766V11.982C19.6222 11.0457 20.3089 10.2839 21.169 10.2839C22.0243 10.2839 22.7108 11.0457 22.7108 11.982V14.4298C22.7108 14.7141 22.9412 14.9446 23.2255 14.9446C23.5098 14.9446 23.7403 14.7141 23.7403 14.4298V13.1045C23.7403 12.168 24.4335 11.4044 25.2888 11.4044H25.3346C26.1876 11.4044 26.8836 12.1649 26.8856 13.0984C26.8924 16.0043 26.8912 16.9931 26.8876 19.6332Z"
        fill="#FFCE1F"
      />
      <path
        d="M17.2414 5.09852H23.9129L22.7168 6.29467C22.5836 6.42412 22.5303 6.61514 22.5775 6.7946C22.6248 6.97432 22.765 7.11457 22.9448 7.16182C23.1242 7.20882 23.3152 7.15554 23.4447 7.02232L25.512 4.95525C25.7131 4.75417 25.7131 4.42817 25.512 4.22735L23.4447 2.16027C23.2434 1.9612 22.9191 1.96221 22.719 2.16228C22.5187 2.3626 22.5177 2.68684 22.7168 2.88817L23.8976 4.069H17.2414C16.9572 4.069 16.7267 4.29948 16.7267 4.58376C16.7267 4.86803 16.9572 5.09852 17.2414 5.09852Z"
        fill="#dcb98b"
      />
      <path
        d="M1.74969 5.09852H8.36187C8.64615 5.09852 8.87663 4.86803 8.87663 4.58376C8.87663 4.29948 8.64615 4.069 8.36187 4.069H1.76502L2.94585 2.88817C3.14492 2.68684 3.14391 2.3626 2.94359 2.16228C2.74351 1.96221 2.41928 1.9612 2.21795 2.16027L0.15062 4.22735C-0.0502065 4.42842 -0.0502065 4.75442 0.15062 4.95525L2.21795 7.02232C2.34764 7.15378 2.53791 7.20556 2.71637 7.15805C2.89483 7.1108 3.03407 6.9713 3.08158 6.79284C3.12908 6.61439 3.0773 6.42437 2.94585 6.29442L1.74969 5.09852Z"
        fill="#dcb98b"
      />
    </svg>
  </div>
</template>

<script>
import { Pano } from "vuejs-vr";
import urlImage from "../assets/images/panorama.jpg";
import NavBar from "@/components/NavBar.vue";

export default {
  name: "PanoramicView",
  components: {
    Pano,
    NavBar,
  },
  data() {
    return {
      url: [urlImage],
    };
  },
  methods: {
    clickIcon() {
      document.querySelector("#dragIcon").style.display = "none";
    },
  },
};
</script>

<style lang="scss" scoped>
.panorama {
  overflow: hidden;
  height: 100vh;
}

.panorama__view {
  height: 110vh;
  width: 100vw;
}

.dragIcon {
  display: block;
  z-index: 999;
  animation: dragAnimation 0.8s linear 0s infinite alternate;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
}

/deep/ .mapMenu {
  animation: scaleLightIcon 1s infinite alternate;
}

/deep/ .navBar {
  background: none;
}
</style>
